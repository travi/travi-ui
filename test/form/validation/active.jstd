travi.test.testCase('Tests for client-side validation of existing form', (function () {
    'use strict';

    var activeValidation = travi.ui.form.validation.active;

    return {
        setUp: function () {
            $('body').append(
                '<form><input required /></form>'
            );
            activeValidation.init();
        },

        'test that form is set to be validated upon page load': function () {
            assert.equals(1, $('form[novalidate=novalidate]').length);
        },

        'test that proper class is used for errors': function () {
            $('form').submit();

            var $errorLabel = $('label');
            assert.equals(1, $errorLabel.length);
            assert.isTrue($errorLabel.hasClass('ui-state-error'));
        }
    };
}()));